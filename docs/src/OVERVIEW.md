# Overview

FirmWire is a baseband analysis platform.

# Emulation Core

The Emulation Core of FirmWire is built on top of [avatar2](https://github.com/avatartwo/avatar2) and [PANDA](https://github.com/panda-re/panda/).
The core emulation capabilities are provided by PANDA, while avatar2 is used as middleware to orchestrate the execution state of the emulator, including spin-up, breakpoint registration, and starting/stopping of the emulation.
Additionally, we use avatar2's Python Peripherals to implement [Peripherals](TODO) which react on Memory-Mapped I/O accesses.

Under the hood, FirmWire implements vendor specific _machines_ which use avatar2's PyPanda target to embed PANDA as dynamic library in the same process space as the Python Interpreter keeping the required inter-process communication for FirmWire to a bare minimum.

# Emulator configuration

PANDA and avatar2 use the so-called `configurable machine` to enable emulation of arbitrary embedded systems with custom memory mappings.
In essence, the embedded systems' memory map (including ROM, RAM, and peripherals) is described in a JSON file, which gets automatically generated by avatar2 based on individually registered memory ranges.
This JSON file is then passed on to PANDA, which uses it to register and emulate the memory ranges accordingly.

Inside FirmWire, we use the configurable machine to create the emulation environments for the target baseband images on-the-fly.
In more detail, our loader is responsible for parsing a binary firmware file and automatically extracting the required memory mappings, for instance by finding pre-defined MPU tables within the binary image.

# Controlling emulation

# Interactive exploration